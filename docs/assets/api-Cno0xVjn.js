const r=()=>window.location.hostname==="m3hmet072.github.io"||window.location.hostname==="autoservicehoute.nl"?"https://autoservicehoute-production.up.railway.app/api":window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3001/api":"https://autoservicehoute-production.up.railway.app/api",o=r();console.log("API Endpoint:",o);async function s(){const t=await fetch(`${o}/appointments`);if(!t.ok)throw new Error("Failed to fetch appointments");return await t.json()}async function i(t){const e=await fetch(`${o}/appointments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create appointment");return await e.json()}async function c(t,e){const n=await fetch(`${o}/appointments/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to update appointment");return await n.json()}async function p(t){const e=await fetch(`${o}/appointments/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete appointment");return await e.json()}async function l(t=null,e=null){let n=`${o}/workdays`;t&&e&&(n+=`?startDate=${t}&endDate=${e}`);const a=await fetch(n);if(!a.ok)throw new Error("Failed to fetch work days");return await a.json()}async function w(t){const e=await fetch(`${o}/workdays/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workDays:t})});if(!e.ok)throw new Error("Failed to import work days");return await e.json()}async function u(){const t=await fetch(`${o}/emails`);if(!t.ok)throw new Error("Failed to fetch emails");return await t.json()}async function h(t){const e=await fetch(`${o}/emails/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete email");return await e.json()}async function f(t={}){const e=await fetch(`${o}/visitors/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:window.location.pathname,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,referrer:document.referrer||"direct",deviceType:t.deviceType,deviceName:t.deviceName,browser:t.browser,os:t.os,screenResolution:t.screenResolution,viewport:t.viewport})});if(!e.ok)throw new Error("Failed to track visitor");return await e.json()}async function d(){const t=sessionStorage.getItem("visitorSessionId");if(!t)return!1;try{const e=await fetch(`${o}/visitors/heartbeat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:t})});return e.ok?(await e.json()).success===!0:!1}catch(e){return console.error("Heartbeat failed:",e),!1}}async function y(t=null,e=null){let n=`${o}/visitors/stats`;t&&e&&(n+=`?startDate=${t}&endDate=${e}`);const a=await fetch(n);if(!a.ok)throw new Error("Failed to fetch visitor stats");return await a.json()}async function m(t=30){const e=await fetch(`${o}/visitors/daily?days=${t}`);if(!e.ok)throw new Error("Failed to fetch daily visitor stats");return await e.json()}export{m as a,s as b,u as c,l as d,i as e,y as f,h as g,p as h,w as i,d as s,f as t,c as u};
